<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Getter</title>
</head>
<body>

<script src="https://cdn.bootcss.com/vue/2.5.9/vue.min.js"></script>
<script src="https://cdn.bootcss.com/vue-router/3.0.1/vue-router.js"></script>
<script src="https://cdn.bootcss.com/vuex/3.0.1/vuex.js"></script>
<script type="application/javascript">
//    有时候我们需要从 store 中的 state 中派生出一些状态，例如对列表进行过滤并计数：
//    computed: {
//        doneTodosCount () {
//            return this.$store.state.todos.filter(todo => todo.done).length
//        }
//    }

//    Getter 接受 state 作为其第一个参数：
//    const store = new Vuex.Store({
//        state: {
//            todos: [
//                { id: 1, text: '...', done: true },
//                { id: 2, text: '...', done: false }
//            ]
//        },
//        getters: {
//            doneTodos: state => {
//                return state.todos.filter(todo => todo.done)
//            }
//        }
//    })
//
//    Getter 会暴露为 store.getters 对象：
//    store.getters.doneTodos // -> [{ id: 1, text: '...', done: true }]
//
//    Getter 也可以接受其他 getter 作为第二个参数：
//    getters: {
//        // ...
//        doneTodosCount: (state, getters) => {
//            return getters.doneTodos.length
//        }
//    }
//
//    store.getters.doneTodosCount // -> 1
//
//    我们可以很容易地在任何组件中使用它：
//    computed: {
//        doneTodosCount () {
//            return this.$store.getters.doneTodosCount
//        }
//    }
//
//    你也可以通过让 getter 返回一个函数，来实现给 getter 传参。在你对 store 里的数组进行查询时非常有用。
//    getters: {
//        // ...
//        getTodoById: (state) => (id) => {
//            return state.todos.find(todo => todo.id === id)
//        }
//    }
//
//    store.getters.getTodoById(2) // -> { id: 2, text: '...', done: false }

//    mapGetters 辅助函数
//    mapGetters 辅助函数仅仅是将 store 中的 getter 映射到局部计算属性：
//    import { mapGetters } from 'vuex'
//    export default {
//        // ...
//        computed: {
//            // 使用对象展开运算符将 getter 混入 computed 对象中
//            ...mapGetters([
//                'doneTodosCount',
//                'anotherGetter',
//                // ...
//            ])
//        }
//    }
//
//    如果你想将一个 getter 属性另取一个名字，使用对象形式：
//    mapGetters({
//        // 映射 `this.doneCount` 为 `store.getters.doneTodosCount`
//        doneCount: 'doneTodosCount'
//    })

</script>
</body>
</html>